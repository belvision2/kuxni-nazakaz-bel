(function($){$.fn.megacarousel=function(option){var id=$(this).attr("id");var timer;option=$.extend({},$.fn.megacarousel.option,option);return this.each(function(){$("#"+id).css({"height":$("#"+id+" ul").height()+"px"});if($("#"+id+" ul").width()>$("#"+id).width()){if(option.controls){$("#"+id).append('<span class="news-last-prev prev"></span><span class="news-last-next next"></span>');}function prev(){$("#"+id+" ul li").eq(-1).clone().prependTo("#"+id+" ul");$("#"+id+" ul").css({"left":-$("#"+id+" ul li").eq(0).width()+"px"});$("#"+id+" ul").animate({left:"0px"},option.speed);$("#"+id+" ul li").eq(-1).remove();}function next(){$("#"+id+" ul").animate({left:-$("#"+id+" ul li").eq(0).width()+"px"},option.speed,function(){$("#"+id+" ul li").eq(0).clone().appendTo("#"+id+" ul");$("#"+id+" ul li").eq(0).remove();$("#"+id+" ul").css({"left":"0px"});});}$("#"+id+" .prev").mousedown(function(){prev();clearInterval(timer);timer=setInterval(prev,option.speed);});$("#"+id+" .prev").mouseup(function(){clearInterval(timer);});$("#"+id+" .prev").mouseout(function(){clearInterval(timer);});$("#"+id+" .next").mousedown(function(){next();clearInterval(timer);timer=setInterval(next,option.speed);});$("#"+id+" .next").mouseup(function(){clearInterval(timer);});$("#"+id+" .next").mouseout(function(){clearInterval(timer);});$("#"+id).bind("mousewheel",function(event,delta){if(delta>0){prev();}else{next();}return false;});}});};$.fn.megacarousel.option={controls:true,speed:700};})(jQuery);